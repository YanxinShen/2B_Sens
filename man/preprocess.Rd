% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess.R
\name{preprocess}
\alias{preprocess}
\title{Data Preprocessing Function}
\usage{
preprocess(
  treated_lst,
  control_lst,
  Z,
  X,
  R,
  gamma = 4,
  model = "rf",
  predicts = NULL,
  ...
)
}
\arguments{
\item{treated_lst}{List of indices for the treated group}

\item{control_lst}{List of indices for the control group}

\item{Z}{Numeric vector indicating treatment assignment (1 for treated, 0 for control)}

\item{X}{Data frame or matrix containing covariates}

\item{R}{Numeric vector containing outcome variables}

\item{gamma}{Numeric, sensitivity analysis parameter (default is 4)}

\item{model}{Character string specifying the type of machine learning model to use
(e.g., "xgboost", "logistic", "svm", or "rf")}

\item{predicts}{Optional, pre-computed predictions to bypass the model training step.}

\item{...}{Additional parameters passed to the model}
}
\value{
A list containing two data frames for the treated and control groups, each with various variables
}
\description{
This function preprocesses the data for treated and control groups by grouping, feature extraction,
and machine learning prediction, generating the final preprocessed datasets.
}
\examples{
# Extract variables from the dataset
treated_lst <- sample_data$treated_lst
control_lst <- sample_data$control_lst
Z <- sample_data$dataset$Z  # Treatment assignment
X <- sample_data$dataset$X  # Covariates
R <- sample_data$dataset$R  # Outcome variable


# Preprocess the data using the random forest model
result <- preprocess(treated_lst, control_lst, Z, X, R, gamma = 4, model = "rf", ntree = 50)

# Access preprocessed data for treated and control groups
treated_data <- result[[1]]
control_data <- result[[2]]

# Display the first few rows of the treated group data
head(treated_data)

# Display the first few rows of the control group data
head(control_data)

}
